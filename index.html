<!DOCTYPE html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Rides</title>

    <link rel="stylesheet" href="css/font.css" />
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/botstyle.css" />

    <script src="js/vendor/modernizr.js"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1495.0.min.js"></script>
  </head>
  <body class="page-home">
    <header class="site-header">
      <h1 class="title">Rides</h1>
      <nav class="site-nav">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="signin.html">Sign In</a></li>
        </ul>
      </nav>
      <button type="button" class="btn-menu"><span>Menu</span></button>
    </header>

    <section class="home-about">
      <div class="row column large-9 xlarge-6 xxlarge-4">
        <h2 class="section-title">How It Works</h2>
        <p class="content">
          Request a ride, get matched with a driver, and arrive at your
          destination. Simple, fast, and reliable transportation when you need
          it.
        </p>
      </div>

      <div class="row medium-up-2 large-up-4">
        <div class="column">
          <div class="home-about-block">
            <h3 class="title icon-download">Sign Up</h3>
            <p class="content">
              Create an account with your email address and set up your payment
              method.
            </p>
          </div>
        </div>

        <div class="column">
          <div class="home-about-block">
            <h3 class="title icon-unicorn">Request a Ride</h3>
            <p class="content">
              Enter your pickup and destination locations. A nearby driver will
              be matched to your request.
            </p>
          </div>
        </div>

        <div class="column">
          <div class="home-about-block">
            <h3 class="title icon-price">See Your Fare</h3>
            <p class="content">
              View the estimated fare before confirming your ride. Pricing is
              transparent and upfront.
            </p>
          </div>
        </div>

        <div class="column">
          <div class="home-about-block">
            <h3 class="title icon-success">Ride</h3>
            <p class="content">
              Track your driver's arrival in real-time. Complete your ride and
              rate your experience.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section class="home-sign-up">
      <div class="row column">
        <h2 class="section-title">Get Started</h2>

        <p class="content">Sign up to start requesting rides today</p>

        <a
          class="home-button"
          href="/signin.html"
          style="
            position: relative;
            left: auto;
            bottom: auto;
            transform: none;
            margin: 2rem auto;
            display: inline-block;
          "
          >Sign In</a
        >
      </div>
    </section>

   



    <footer class="site-footer">
      <div class="row column">
        <nav class="footer-nav">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="faq.html">FAQ</a></li>
            <li><a href="signin.html">Sign In</a></li>
          </ul>
        </nav>
      </div>

      <div class="row column">
        <div class="footer-legal">
          &copy; Rides<br />
          All Rights Reserved
        </div>
      </div>
    </footer>



    
    <script src="js/vendor.js"></script>

    <script src="js/main.js"></script>
    <!-- AWS SDK -->
<!-- <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1495.0.min.js"></script>

<script>
(function initLexGuestBot() {
    const LEX_BOT_REGION = 'eu-west-2';
    const IDENTITY_POOL_ID = 'eu-west-2:03e1fa91-8f97-4272-87c0-f18e200a5a00'; // Same region as Lex bot
    const BOT_NAME = 'RideAssistantBot';
    const BOT_ALIAS = 'Test';

    // Persistent guest user ID
    const userId = localStorage.getItem('lexGuestUserId') || ('guest_' + Date.now());
    localStorage.setItem('lexGuestUserId', userId);

    // Create chat container if not present
    if (!document.getElementById('lexChatContainer')) {
        const chatContainer = document.createElement('div');
        chatContainer.id = 'lexChatContainer';
        chatContainer.style = 'position:fixed;bottom:10px;right:10px;width:300px;height:400px;border:1px solid #ccc;background:#fff;display:flex;flex-direction:column;z-index:1000;';
        chatContainer.innerHTML = `
            <div id="lexMessages" style="flex:1;padding:5px;overflow-y:auto;font-size:14px;"></div>
            <input id="lexInput" type="text" placeholder="Ask me anything..." style="border-top:1px solid #ccc;padding:5px;width:100%;box-sizing:border-box;" />
        `;
        document.body.appendChild(chatContainer);
    }

    const lexMessages = document.getElementById('lexMessages');
    const lexInput = document.getElementById('lexInput');

    function appendMessage(sender, message) {
        const msgDiv = document.createElement('div');
        msgDiv.style.marginBottom = '8px';
        msgDiv.innerHTML = `<strong>${sender}:</strong> ${message}`;
        lexMessages.appendChild(msgDiv);
        lexMessages.scrollTop = lexMessages.scrollHeight;
    }

    // Initialize AWS SDK for guest access
    AWS.config.region = LEX_BOT_REGION;
    AWS.config.credentials = new AWS.CognitoIdentityCredentials({
        IdentityPoolId: IDENTITY_POOL_ID
    });

    const lexruntime = new AWS.LexRuntime({ region: LEX_BOT_REGION });

    // Message queue to handle throttling
    const messageQueue = [];
    let processing = false;

    function processQueue() {
        if (processing || messageQueue.length === 0) return;
        processing = true;

        const { message } = messageQueue.shift();
        appendMessage('You', message);

        const params = {
            botAlias: BOT_ALIAS,
            botName: BOT_NAME,
            inputText: message,
            userId: userId,
            sessionAttributes: {}
        };

        lexruntime.postText(params, function(err, data) {
            if (err) {
                console.error(err);
                appendMessage('Bot', 'Sorry, something went wrong.');
            } else {
                appendMessage('Bot', data.message || '...');
            }

            processing = false;
            // Small delay to avoid hitting 429
            setTimeout(processQueue, 500); // 0.5s gap between messages
        });
    }

    // Handle Enter key
    lexInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter' && lexInput.value.trim() !== '') {
            messageQueue.push({ message: lexInput.value.trim() });
            lexInput.value = '';
            processQueue();
        }
    });

})();
</script> -->
    <div id="chat"></div>

<input type="text" id="userInput" placeholder="Type your message...">
<button onclick="sendMessage()">Send</button>

<script src="https://sdk.amazonaws.com/js/aws-sdk-2.1361.0.min.js"></script>
<script>
  // Configure AWS
  AWS.config.region = 'eu-west-2'; // e.g., us-east-1
  AWS.config.credentials = new AWS.CognitoIdentityCredentials({
    IdentityPoolId: 'eu-west-2:f7228ab6-bde0-4b6d-bb47-ad75f0f5e7d5' // Replace with your Cognito Identity Pool ID
  });

  const lexRuntime = new AWS.LexRuntime();

  const chatDiv = document.getElementById('chat');
  const userInput = document.getElementById('userInput');

  function appendMessage(sender, message) {
    const div = document.createElement('div');
    div.className = sender;
    div.textContent = (sender === 'user' ? 'You: ' : 'Bot: ') + message;
    chatDiv.appendChild(div);
    chatDiv.scrollTop = chatDiv.scrollHeight;
  }

  function sendMessage() {
    const text = userInput.value.trim();
    if (!text) return;

    appendMessage('user', text);
    userInput.value = '';

    const params = {
      botName: 'RideAssistantBot',    // Replace with your Lex bot name
      botAlias: 'Test',  // Replace with your Lex bot alias
      userId: 'user-' + Date.now(), // Unique user ID
      inputText: text
    };

    lexRuntime.postText(params, function(err, data) {
      if (err) {
        console.error(err);
        appendMessage('bot', 'Error: ' + err.message);
      } else {
        appendMessage('bot', data.message || '...');
      }
    });
  }

  // Optional: allow pressing Enter to send
  userInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') sendMessage();
  });
</script>

  </body>
</html>









